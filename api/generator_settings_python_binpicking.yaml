template: 'templates/client_template.py.mako'
clientType: binpicking
templateArgs:  # Strings are added to client_template.py.mako
  tasktype: binpicking
  clientTaskName: Binpicking
  parentClassFile: realtimerobotplanningclient
  parentClassName: RealtimeRobotPlanningClient
  extraSuperConstructorArgs: |
    robotname=robotname,
    robotspeed=robotspeed,
    robotaccelmult=robotaccelmult,
    envclearance=envclearance,
    robotBridgeConnectionInfo=robotBridgeConnectionInfo, 
    targetname=targetname,
    toolname=toolname,
  extraConstructorArgs: regionname=None, robotname='', robotspeed=None, robotaccelmult=None, envclearance=10.0, robotBridgeConnectionInfo=None, targetname=None, toolname=None,
  extraClassAttributes: |
    regionname = None  # The default region for Pick/Place calls
  extraConstructorArgsDocstringLines: |
    regionname (str, optional): Name of the bin, e.g. container1
    robotname (str, optional): Name of the robot, e.g. VP-5243I
    robotspeed (float, optional): Speed of the robot, e.g. 0.4
    robotaccelmult (float, optional): Optional multiplier for the robot acceleration.
    envclearance (str, optional): Environment clearance in millimeter, e.g. 20
    robotBridgeConnectionInfo (str, optional): dict holding the connection info for the robot bridge.
    targetname (str, optional): Name of the target, e.g. plasticnut-center
    toolname (str, optional): Name of the manipulator, e.g. 2BaseZ
  extraConstructorContent: |
    self._regionname = regionname
  extraClientStaticFunctions: |
    def _PrepareCommand(self, commandName):
        """Adds common parameters to the command sent to the server 

        Args:
            commandName (str):
        """
        command = super(BinpickingPlanningClient, self)._PrepareCommand(commandName)
        # regionname always maps to containername for the BinpickingPlanning.
        if self._regionname is not None:
            command['containername'] = self._regionname
        return command
  extraClientContent: 
include:
- components_realtimerobot.yaml
x-specModifications:
  services:
    PickAndPlace:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                goaltype:
                  paramOrderingIndex: 0
                goals:
                  paramOrderingIndex: 1
                targetnamepattern:
                  paramOrderingIndex: 2
                approachoffset:
                  default: 30
                  paramOrderingIndex: 3
                departoffsetdir:
                  default: [0, 0, 50]
                  paramOrderingIndex: 4
                destdepartoffsetdir:
                  default: [0, 0, 30]
                  paramOrderingIndex: 5
                deletetarget:
                  default: 0
                  paramOrderingIndex: 6
                debuglevel:
                  default: 4
                  paramOrderingIndex: 7
                movetodestination:
                  default: 1
                  paramOrderingIndex: 8
                freeinc:
                  default: [0.08]
                  paramOrderingIndex: 9
                worksteplength:
                  paramOrderingIndex: 10
                densowavearmgroup:
                  default: 5
                  paramOrderingIndex: 11
                regionname:
                  paramOrderingIndex: 12
                cameranames:
                  paramOrderingIndex: 13
                envclearance:
                  paramOrderingIndex: 14
                toolname:
                  paramOrderingIndex: 15
                robotspeed: 
                  paramOrderingIndex: 16
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  default: 1000
                  paramOrderingIndex: 17
                # leaveoffsetintool:
                #   paramOrderingIndex: 18
                # desttargetname:
                #   paramOrderingIndex: 0
                # destikparamnames:
                #   paramOrderingIndex: 1
                # graspsetname:
                #   paramOrderingIndex: 9
                kwargs: {}
    StartPickAndPlaceThread:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                goaltype:
                  paramOrderingIndex: 0
                goals:
                  paramOrderingIndex: 1
                targetnamepattern:
                  paramOrderingIndex: 2
                approachoffset:
                  default: 30
                  paramOrderingIndex: 3
                departoffsetdir:
                  default: [0, 0, 50]
                  paramOrderingIndex: 4
                destdepartoffsetdir:
                  default: [0, 0, 30]
                  paramOrderingIndex: 5
                deletetarget:
                  paramOrderingIndex: 6
                debuglevel:
                  default: 4
                  paramOrderingIndex: 7
                movetodestination:
                  default: 1
                  paramOrderingIndex: 8
                worksteplength:
                  paramOrderingIndex: 9
                densowavearmgroup:
                  default: 5
                  paramOrderingIndex: 10
                regionname:
                  paramOrderingIndex: 11
                envclearance:
                  paramOrderingIndex: 12
                toolname:
                  paramOrderingIndex: 13
                robotspeed: 
                  paramOrderingIndex: 14
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 15
                kwargs: {}
    StopPickPlaceThread:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                resetExecutionState:
                  default: True
                  paramOrderingIndex: 0
                resetStatusPickPlace:
                  default: False
                  paramOrderingIndex: 1
                finishCode:
                  paramOrderingIndex: 2
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 3
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  default: False
                  paramOrderingIndex: 4
                kwargs: {}
    GetPickPlaceStatus:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    ComputeIK:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                toolname:
                  paramOrderingIndex: 0
                  isRequired: False
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 1
                direction:
                  paramOrderingIndex: 5
                angle:
                  paramOrderingIndex: 6
                iktype:
                  paramOrderingIndex: 2
                freeincvalue:
                  paramOrderingIndex: 7
                quaternion:
                  paramOrderingIndex: 3
                limit:
                  paramOrderingIndex: 9
                preshape:
                  paramOrderingIndex: 10
                filteroptions:
                  paramOrderingIndex: 8
                translation:
                  paramOrderingIndex: 4
                kwargs: {}
    InitializePartsWithPhysics:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                targeturi:
                  paramOrderingIndex: 1
                numtargets:
                  paramOrderingIndex: 2
                regionname:
                  paramOrderingIndex: 3
                duration:
                  paramOrderingIndex: 4
                basename:
                  paramOrderingIndex: 5
                deleteprevious:
                  paramOrderingIndex: 6
                forcegravity:
                  paramOrderingIndex: 7
                kwargs: {}
    StopPhysicsThread:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 99
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    JitterPartUntilValidGrasp:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                toolname:
                  paramOrderingIndex: 0
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 1
                targetname:
                  paramOrderingIndex: 2
                graspsetname:
                  paramOrderingIndex: 3
                approachoffset:
                  paramOrderingIndex: 4
                departoffsetdir:
                  paramOrderingIndex: 5
                destdepartoffsetdir:
                  paramOrderingIndex: 6
                leaveoffsetintool:
                  paramOrderingIndex: 7
                desttargetname:
                  paramOrderingIndex: 8
                destikparamnames:
                  paramOrderingIndex: 9
                jitterangle:
                  paramOrderingIndex: 10
                jitteriters:
                  paramOrderingIndex: 11
                kwargs: {}
    MoveToDropOff:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                dropOffInfo:
                  paramOrderingIndex: 0
                robotname:
                  paramOrderingIndex: 1
                robotspeed:
                  paramOrderingIndex: 2
                robotaccelmult:
                  paramOrderingIndex: 3
                execute:
                  paramOrderingIndex: 4
                startvalues:
                  paramOrderingIndex: 5
                envclearance:
                  paramOrderingIndex: 6
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 7
                kwargs: {}
    IsRobotOccludingBody:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                bodyname:
                  paramOrderingIndex: 0
                cameraname:
                  paramOrderingIndex: 1
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 2
                kwargs: {}
    GetPickedPositions:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                unit:
                  default: 'm'
                  paramOrderingIndex: 0
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 1
                kwargs: {}
    GetPickAndPlaceLog:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                startindex:
                  paramOrderingIndex: 2
                num:
                  paramOrderingIndex: 1
                kwargs: {}
    MoveRobotOutOfCameraOcclusion:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                regionname:
                  paramOrderingIndex: 0
                robotspeed:
                  paramOrderingIndex: 1
                toolname:
                  paramOrderingIndex: 2
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 3
                cameranames:
                  paramOrderingIndex: 4
                kwargs: {}
    PausePickPlace:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    ResumePickPlace:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    SendStateTrigger:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                stateTrigger:
                  paramOrderingIndex: 0
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 1
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 2
                kwargs: {}
    GetBinpickingState:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 1
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    SetStopPickPlaceAfterExecutionCycle:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                kwargs: {}
    PutPartsBack:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                trajectory:
                  customParameterName: trajectoryxml
                  paramOrderingIndex: 0
                numparts:
                  paramOrderingIndex: 1
                toolname:
                  paramOrderingIndex: 2
                grippervalues:
                  paramOrderingIndex: 3
                timeout: 
                  default: 100
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 4
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    GenerateGraspModelFromIkParams:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                graspsetname:
                  paramOrderingIndex: 0
                targeturi:
                  paramOrderingIndex: 1
                toolname:
                  paramOrderingIndex: 2
                robotname:
                  paramOrderingIndex: 3
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 4
                kwargs: {}
    CheckGraspModelIk:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                targeturi:
                  paramOrderingIndex: 1
                toolname:
                  paramOrderingIndex: 2
                graspsetname:
                  paramOrderingIndex: 0
                ikparamnames:
                  paramOrderingIndex: 3
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 4
                kwargs: {}
    SetCurrentLayoutDataFromPLC:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                containername:
                  paramOrderingIndex: 0
                containerLayoutSize:
                  paramOrderingIndex: 1
                destObstacleName:
                  paramOrderingIndex: 2
                ioVariableName:
                  paramOrderingIndex: 3
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 4
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    ClearVisualization:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 1
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    GetPlanStatistics:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 1
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    SetCurrentLayoutDataSendOnObjectUpdateData:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                doUpdate:
                  paramOrderingIndex: 0
                containername:
                  paramOrderingIndex: 1
                containerLayoutSize:
                  paramOrderingIndex: 2
                ioVariableName:
                  paramOrderingIndex: 3
                fireandforget: 
                  default: true
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 4
                kwargs: {}
    StartPackFormationComputationThread:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                debuglevel:
                  default: 4
                  paramOrderingIndex: 1
                toolname:
                  paramOrderingIndex: 2
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    StopPackFormationComputationThread:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 1
                # debuglevel:
                #   paramOrderingIndex: 1
                # toolname:
                #   paramOrderingIndex: 2
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    VisualizePackingState:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 1
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    VisualizePackFormationResult:
      TODO_FELIX_CONFIRM_BACKEND: ''
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 1
                initializeCameraPosition:
                  paramOrderingIndex: 2
    GetPackFormationSolution:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 1
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    GetPackItemPoseInWorld:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 1
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    ManuallyPlacePackItem:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                packFormationComputationResult:
                  paramOrderingIndex: 0
                inputPartIndex:
                  paramOrderingIndex: 1
                placeLocationNames:
                  paramOrderingIndex: 2
                placedTargetPrefix:
                  paramOrderingIndex: 3
                dynamicGoalsGeneratorParameters:
                  paramOrderingIndex: 4
                orderNumber:
                  paramOrderingIndex: 5
                numLeftToPick:
                  paramOrderingIndex: 6
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 7
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 8
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    SendPackFormationComputationResult:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 1
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    GetLatestPackFormationResultList:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 1
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    ClearPackingStateVisualization:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 1
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    ValidatePackFormationResultList:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                packFormationResultList:
                  paramOrderingIndex: 0
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 1
                fireandforget: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/fireandforget'
                  paramOrderingIndex: 2
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    ComputeSamePartPackResultBySimulation:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                  default: 100
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
    HasDetectionObstacles:
      parameters:
        taskparams:
          properties:
            taskparameters:
              properties:
                timeout: 
                  $merge: '#/components/Internal_ExecuteCommandParameters/timeout'
                  paramOrderingIndex: 0
                  default: 100
                kwargs: {}
      TODO_FELIX_CONFIRM_BACKEND: ''
